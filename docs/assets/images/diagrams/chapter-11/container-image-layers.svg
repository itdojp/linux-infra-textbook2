<?xml version="1.0" encoding="UTF-8"?>
<svg width="500" height="400" viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg">
  <title>コンテナイメージの層構造</title>
  <desc>コンテナイメージの読み取り専用レイヤーの積み重ね構造</desc>
  
  <defs>
    <style>
      .title { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; font-size: 16px; font-weight: 600; fill: #1a1a1a; }
      .section-title { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; font-size: 13px; font-weight: 600; fill: #333; }
      .layer-label { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; font-size: 11px; font-weight: 500; fill: #333; }
      .size-label { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; font-size: 10px; font-weight: 400; fill: #666; }
      .total-label { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; font-size: 12px; font-weight: 600; fill: #1976d2; }
      
      .layer4 { fill: #f3e5f5; stroke: #9c27b0; stroke-width: 2; rx: 6; }
      .layer3 { fill: #e8f5e8; stroke: #4caf50; stroke-width: 2; rx: 6; }
      .layer2 { fill: #fff3e0; stroke: #ff9800; stroke-width: 2; rx: 6; }
      .layer1 { fill: #e1f5fe; stroke: #03a9f4; stroke-width: 2; rx: 6; }
      .total-box { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; rx: 6; }
      
      .stack-arrow { stroke: #666; stroke-width: 2; stroke-dasharray: 5,5; fill: none; marker-end: url(#arrowhead); }
    </style>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="500" height="400" fill="#ffffff"/>
  
  <!-- Title -->
  <text x="250" y="25" text-anchor="middle" class="title">コンテナイメージの層構造</text>
  
  <!-- Container border -->
  <rect x="80" y="60" width="300" height="220" fill="none" stroke="#dee2e6" stroke-width="2" stroke-dasharray="10,5" rx="8"/>
  <text x="230" y="80" text-anchor="middle" class="section-title">コンテナイメージ</text>
  
  <!-- Layer 4 -->
  <rect x="100" y="100" width="260" height="40" class="layer4"/>
  <text x="230" y="115" text-anchor="middle" class="layer-label">レイヤー4: アプリケーション</text>
  <text x="230" y="130" text-anchor="middle" class="size-label">50MB</text>
  
  <!-- Layer 3 -->
  <rect x="100" y="150" width="260" height="40" class="layer3"/>
  <text x="230" y="165" text-anchor="middle" class="layer-label">レイヤー3: 言語ランタイム</text>
  <text x="230" y="180" text-anchor="middle" class="size-label">100MB</text>
  
  <!-- Layer 2 -->
  <rect x="100" y="200" width="260" height="40" class="layer2"/>
  <text x="230" y="215" text-anchor="middle" class="layer-label">レイヤー2: システムツール</text>
  <text x="230" y="230" text-anchor="middle" class="size-label">30MB</text>
  
  <!-- Layer 1 -->
  <rect x="100" y="250" width="260" height="40" class="layer1"/>
  <text x="230" y="265" text-anchor="middle" class="layer-label">レイヤー1: ベースOS</text>
  <text x="230" y="280" text-anchor="middle" class="size-label">70MB</text>
  
  <!-- Stack arrows -->
  <line x1="230" y1="140" x2="230" y2="150" class="stack-arrow"/>
  <line x1="230" y1="190" x2="230" y2="200" class="stack-arrow"/>
  <line x1="230" y1="240" x2="230" y2="250" class="stack-arrow"/>
  
  <!-- Total -->
  <rect x="120" y="320" width="220" height="40" class="total-box"/>
  <text x="230" y="340" text-anchor="middle" class="total-label">合計イメージサイズ: 250MB</text>
  <text x="230" y="355" text-anchor="middle" class="size-label">読み取り専用・再利用可能</text>
  
  <!-- Arrow to total -->
  <line x1="230" y1="290" x2="230" y2="320" class="stack-arrow"/>
  
  <!-- Stack indicators -->
  <text x="40" y="120" text-anchor="middle" class="size-label">積み重ね</text>
  <text x="40" y="170" text-anchor="middle" class="size-label">積み重ね</text>
  <text x="40" y="220" text-anchor="middle" class="size-label">積み重ね</text>
</svg>